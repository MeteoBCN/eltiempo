<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiempo Barcelona</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/weather-icons@1.3.2/css/weather-icons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #3B82F6;
            --color-bg-card: rgba(255, 255, 255, 0.85);
            --color-text-primary: #1E293B;
            --color-text-secondary: #64748B;
            --color-text-tertiary: #94A3B8;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --border-radius: 16px;
            --border-radius-sm: 12px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: var(--color-text-primary);
            background: #FFFFFF;
            background-attachment: fixed;
            padding: 0;
            max-width: 600px;
            margin: 0 auto;
            min-height: 100vh;
            font-weight: 400;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }
        .container { padding: 0; animation: fadeIn 0.6s ease-out; max-width: 100%; overflow-x: hidden; }
        .header-section {
            background: #2C3E50;
            padding: 0;
            background-image: url('banner11.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            position: relative;
            min-height: 200px;
        }
        .header-section::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: transparent; z-index: 0; }
        .content-section { background: #FFFFFF; padding: 24px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        .current-weather { text-align: center; padding: 48px 24px 32px 24px; margin-bottom: 32px; background: transparent; border-radius: var(--border-radius); box-shadow: none; backdrop-filter: none; animation: scaleIn 0.6s ease-out 0.2s both; }
        @keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .weather-divider { height: 1px; background: linear-gradient(90deg, transparent 0%, var(--color-text-tertiary) 50%, transparent 100%); opacity: 0.3; margin: 32px 0 24px 0; }
        .location { font-size: 18px; margin-bottom: 12px; font-weight: 500; color: var(--color-text-secondary); letter-spacing: 0.5px; }
        .icon-large { font-size: 72px; margin: 24px 0; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1)); }
        .temperature { font-size: 72px; font-weight: 300; margin-bottom: 12px; color: var(--color-text-primary); letter-spacing: -2px; line-height: 1; }
        .condition { font-size: 22px; margin-bottom: 28px; font-weight: 400; color: var(--color-text-secondary); letter-spacing: 0.3px; }
        .details { display: flex; justify-content: space-around; font-size: 14px; margin-top: 28px; flex-wrap: wrap; gap: 24px; }
        .detail-item { text-align: center; min-width: 90px; }
        .detail-item > div:first-child { color: var(--color-text-tertiary); font-size: 11px; text-transform: uppercase; letter-spacing: 0.8px; font-weight: 600; margin-bottom: 6px; }
        .detail-value { font-size: 16px; font-weight: 600; margin-top: 6px; color: var(--color-text-primary); }
        .weather-alerts-banner { margin: 24px 0; padding: 0; animation: fadeIn 0.6s ease-out 0.4s both; }
        .alert-banner-item { padding: 16px 18px; border-left: 4px solid; display: flex; align-items: center; justify-content: space-between; gap: 14px; margin-bottom: 10px; background: transparent; border-radius: 0 var(--border-radius-sm) var(--border-radius-sm) 0; box-shadow: none; }
        .alert-banner-item:last-child { margin-bottom: 0; }
        .alert-banner-green { border-left-color: #10B981; }
        .alert-banner-yellow { border-left-color: #F59E0B; }
        .alert-banner-orange { border-left-color: #F97316; }
        .alert-banner-red { border-left-color: #EF4444; }
        .alert-banner-left { display: flex; align-items: center; gap: 12px; flex: 1; }
        .alert-banner-icon { font-size: 24px; flex-shrink: 0; animation: pulse 2s ease-in-out infinite; }
        .alert-banner-text { flex: 1; }
        .alert-banner-title { font-size: 15px; font-weight: 600; color: var(--color-text-primary); margin-bottom: 3px; letter-spacing: 0.2px; }
        .alert-banner-desc { font-size: 13px; color: var(--color-text-secondary); line-height: 1.4; }
        .alert-banner-level { padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.6px; white-space: nowrap; flex-shrink: 0; }
        .banner-level-green { background-color: #10B981; color: white; }
        .banner-level-yellow { background-color: #F59E0B; color: white; }
        .banner-level-orange { background-color: #F97316; color: white; }
        .banner-level-red { background-color: #EF4444; color: white; }
        .no-alerts-banner { padding: 16px 18px; text-align: center; color: #10B981; font-size: 14px; display: flex; align-items: center; justify-content: center; gap: 10px; background: transparent; border-radius: var(--border-radius-sm); box-shadow: none; font-weight: 500; }
        .no-alerts-banner-icon { width: 20px; height: 20px; background-color: #10B981; border-radius: 50%; display: inline-block; animation: pulse 2s ease-in-out infinite; }
        .alerts-banner-loading { padding: 16px 18px; text-align: center; color: var(--color-text-tertiary); font-size: 13px; display: flex; align-items: center; justify-content: center; gap: 10px; background: transparent; border-radius: var(--border-radius-sm); box-shadow: none; }
        .daily-forecast { margin-bottom: 40px; }
        .day-item { display: flex; align-items: center; justify-content: space-between; padding: 20px 0; border-bottom: 1px solid rgba(0, 0, 0, 0.1); }
        .day-item:last-child { border-bottom: none; }
        .day-name { flex: 1; font-size: 18px; color: var(--color-text-primary); }
        .day-icon { font-size: 40px; margin: 0 15px; }
        .day-temps { display: flex; gap: 10px; font-size: 18px; }
        .temp-max { font-weight: 600; color: #EF4444; }
        .temp-min { font-weight: 500; color: #3B82F6; }
        .radar { margin-bottom: 40px; }
        .radar-frame { width: 100%; height: 400px; background: #d0d0d0; border-radius: var(--border-radius); overflow: hidden; }
        .radar-frame iframe { width: 100%; height: 100%; border: none; }
        .update-time { text-align: center; font-size: 13px; color: var(--color-text-tertiary); margin-top: 36px; padding-bottom: 12px; font-weight: 500; letter-spacing: 0.3px; }
        .divulgacion-link { text-align: center; padding: 24px 0 36px; }
        .divulgacion-link a { color: var(--color-text-secondary); text-decoration: none; font-size: 15px; font-weight: 500; border-bottom: 2px solid transparent; transition: all 0.3s ease; letter-spacing: 0.3px; padding-bottom: 2px; }
        .divulgacion-link a:hover { border-bottom-color: var(--color-primary); color: var(--color-primary); }
        .loading { text-align: center; padding: 40px; color: var(--color-text-tertiary); }
        .error { text-align: center; padding: 20px; color: #EF4444; }
        .wi-day-sunny, .wi-night-clear, .wi-day-sunny-overcast, .wi-mostly-clear-day,
        .wi-night-alt-cloudy, .wi-day-cloudy, .wi-cloudy, .wi-fog, .wi-night-fog,
        .wi-sprinkle, .wi-night-alt-sprinkle, .wi-rain, .wi-night-alt-rain,
        .wi-rain-wind, .wi-night-alt-rain-wind, .wi-snow, .wi-night-alt-snow,
        .wi-snow-wind, .wi-night-alt-snow-wind, .wi-showers, .wi-night-alt-showers,
        .wi-storm-showers, .wi-night-alt-storm-showers, .wi-thunderstorm,
        .wi-night-alt-thunderstorm, .wi-raindrop { color: #2C3E50; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .weather-table-container { margin: 40px 0; overflow-x: auto; animation: fadeIn 0.6s ease-out 0.6s both; max-width: 100%; -webkit-overflow-scrolling: touch; }
        #weather-table { width: 100%; min-width: 100%; border-collapse: collapse; background: var(--color-bg-card); border-radius: 0; overflow: hidden; box-shadow: var(--shadow-md); backdrop-filter: blur(10px); }
        #weather-table thead tr { background: #2C3E50; }
        #weather-table th { padding: 14px 10px; text-align: center; color: #FFFFFF; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
        #weather-table tbody tr { border-bottom: 1px solid rgba(148, 163, 184, 0.15); }
        #weather-table tbody tr:nth-child(even) { background-color: rgba(241, 245, 249, 0.5); }
        #weather-table tbody tr:nth-child(odd) { background-color: rgba(255, 255, 255, 0.3); }
        #weather-table tbody tr:last-child { border-bottom: none; }
        #weather-table td { padding: 16px 10px; text-align: center; color: var(--color-text-primary); font-size: 14px; font-weight: 500; }
        #weather-table .table-hour { font-weight: 700; color: #2C3E50; font-size: 15px; letter-spacing: 0.3px; }
        #weather-table .table-icon { font-size: 32px; }
        #weather-table .table-temp { font-weight: 600; font-size: 16px; color: #2C3E50; }
        #weather-table .table-rain { color: #2C3E50; font-weight: 600; }
        #weather-table .table-wind { color: #2C3E50; font-weight: 500; }
        .day-detailed-table { width: 100%; border-collapse: collapse; background: var(--color-bg-card); border-radius: 0; overflow: hidden; box-shadow: none; margin-bottom: 24px; backdrop-filter: blur(10px); }
        .day-detailed-table thead tr { background: #2C3E50; }
        .day-detailed-table thead th { padding: 16px 10px; text-align: center; color: #FFFFFF; font-weight: 700; font-size: 16px; text-transform: uppercase; letter-spacing: 1.2px; }
        .day-detailed-table tbody td { padding: 14px 10px; text-align: center; border-bottom: 1px solid rgba(148, 163, 184, 0.15); }
        .day-detailed-table tbody tr:last-child td { border-bottom: none; }
        .day-detailed-table .time-label { font-size: 13px; color: #2C3E50; font-weight: 600; letter-spacing: 0.3px; }
        .day-detailed-table .weather-icon-large { font-size: 40px; margin: 8px 0; }
        .day-detailed-table .rain-value { color: #3B82F6; font-weight: 700; font-size: 15px; }
        .day-detailed-table .info-label { font-size: 11px; color: var(--color-text-tertiary); text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 4px; font-weight: 600; }
        .day-detailed-table .info-value { font-size: 15px; font-weight: 700; color: var(--color-text-primary); }
        .day-detailed-table .temp-max { color: #EF4444; }
        .day-detailed-table .temp-min { color: #3B82F6; }
        .narrative-container { padding: 0; margin-top: 24px; }
        .narrative-title { font-size: 13px; font-weight: 700; color: var(--color-text-secondary); margin-bottom: 16px; text-transform: uppercase; letter-spacing: 1px; text-align: center; }
        #narrative-forecast { text-align: center; line-height: 1.7; font-size: 15px; color: var(--color-text-primary); font-weight: 400; letter-spacing: 0.2px; }
        .marine-forecast-container { margin: 40px 0; animation: fadeIn 0.6s ease-out 0.8s both; }
        .marine-forecast-title { font-size: 20px; font-weight: 700; color: var(--color-text-primary); margin-bottom: 20px; text-align: center; text-transform: uppercase; letter-spacing: 1.5px; }
        .marine-table { width: 100%; border-collapse: collapse; background: var(--color-bg-card); border-radius: 0; overflow: hidden; box-shadow: var(--shadow-md); backdrop-filter: blur(10px); margin-bottom: 24px; }
        .marine-table thead tr { background: #e6e6e6; }
        .marine-table thead th { padding: 16px 10px; text-align: center; color: #505050; font-weight: 700; font-size: 16px; text-transform: uppercase; letter-spacing: 1.2px; }
        .marine-table tbody td { padding: 16px 10px; text-align: center; border-bottom: 1px solid rgba(148, 163, 184, 0.15); font-size: 14px; color: var(--color-text-primary); font-weight: 500; }
        .marine-table tbody tr:nth-child(even) { background-color: rgba(241, 245, 249, 0.5); }
        .marine-table tbody tr:nth-child(odd) { background-color: rgba(255, 255, 255, 0.3); }
        .marine-table tbody tr:last-child td { border-bottom: none; }
        .marine-table .marine-label { font-weight: 700; color: var(--color-text-secondary); text-align: left; padding-left: 20px; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px; }
        .marine-table .marine-value { font-weight: 700; font-size: 16px; }
        .marine-table .temp-water { color: #0EA5E9; }
        .marine-table .wave-height { color: #06B6D4; }
        .marine-table .uvi-value { font-weight: 700; }
        .astronomy-table { width: 100%; border-collapse: collapse; background: transparent; border-radius: 0; overflow: hidden; box-shadow: none; backdrop-filter: none; }
        .astronomy-table tbody td { padding: 10px 8px; border: none; font-size: 14px; text-align: center; }
        .astronomy-table tbody tr:first-child td { font-weight: 600; color: var(--color-text-secondary); font-size: 12px; text-transform: none; letter-spacing: 0.5px; padding-bottom: 8px; }
        .astronomy-table tbody tr:last-child td { font-weight: 700; color: var(--color-text-primary); font-size: 16px; padding-top: 4px; }
        .astronomy-table .astro-icon { margin-right: 6px; font-size: 14px; }
        .today-table { width: 100%; border-collapse: collapse; background: var(--color-bg-card); border-radius: 0; overflow: hidden; box-shadow: var(--shadow-md); backdrop-filter: blur(10px); }
        .today-table thead tr { background: #2C3E50; }
        .today-table thead th { padding: 16px 10px; text-align: center; color: #FFFFFF; font-weight: 700; font-size: 16px; text-transform: uppercase; letter-spacing: 1.2px; }
        .today-table tbody td { padding: 16px 10px; text-align: center; border-bottom: 1px solid rgba(148, 163, 184, 0.15); }
        .today-table tbody tr:last-child td { border-bottom: none; }
        .today-label { font-size: 9px; color: var(--color-text-tertiary); text-transform: uppercase; letter-spacing: 0.6px; margin-bottom: 4px; font-weight: 600; }
        .today-value { font-size: 13px; font-weight: 700; color: var(--color-text-primary); }
        .webcam-container { display: flex; flex-direction: column; align-items: flex-start; width: 100%; margin: 32px 0; animation: fadeIn 0.6s ease-out 1s both; }
        .webcam-frame { width: 100%; height: auto; aspect-ratio: 16 / 9; overflow: hidden; border: none; background: #000; border-radius: var(--border-radius-sm); box-shadow: var(--shadow-md); }
        .webcam-frame img { width: 100%; height: 100%; object-fit: cover; }

        /* ══════════════════════════════════════════════
           SECCIÓN ARTÍCULO — estilos
           ══════════════════════════════════════════════ */
        .articulo-meteorologico {
            margin: 32px 0 0 0;
            padding-top: 28px;
            border-top: 1px solid #e2e8f0;
        }
        .articulo-autor {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e2e8f0;
        }
        .articulo-autor-avatar {
            position: relative;
            width: 52px;
            height: 52px;
            flex-shrink: 0;
        }
        .articulo-autor-foto {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            object-fit: cover;
            display: block;
            background: #e2e8f0;
        }
        .articulo-autor-initials {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            background: #2C3E50;
            color: #ffffff;
            font-size: 16px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            letter-spacing: 1px;
        }
        .articulo-autor-info { display: flex; flex-direction: column; gap: 4px; }
        .articulo-autor-nombre { font-size: 13px; color: #64748B; font-weight: 400; letter-spacing: 0.3px; }
        .articulo-autor-nombre strong { color: #1E293B; font-weight: 700; }
        .articulo-autor-fecha { font-size: 12px; color: #94A3B8; font-weight: 500; text-transform: uppercase; letter-spacing: 0.4px; }
        .articulo-titulo { font-size: 24px; font-weight: 700; color: #1E293B; line-height: 1.3; margin: 0 0 22px 0; letter-spacing: -0.3px; }
        .articulo-imagen-wrapper { margin: 0 0 8px 0; border-radius: 8px; overflow: hidden; }
        .articulo-imagen-1 { width: 100%; height: 220px; object-fit: cover; display: block; background: #e2e8f0; }
        .articulo-imagen-pie { font-size: 12px; color: #94A3B8; margin: 0 0 20px 0; line-height: 1.4; }
        .articulo-imagen-pie strong { color: #64748B; }
        .articulo-cuerpo { font-size: 15px; color: #374151; line-height: 1.75; letter-spacing: 0.2px; }
        .articulo-cuerpo p { margin: 0 0 16px 0; }
        .articulo-cuerpo p:last-child { margin-bottom: 0; }
        .articulo-imagen-2 { width: 100%; height: 180px; object-fit: cover; display: block; border-radius: 8px; background: #e2e8f0; margin: 20px 0 8px 0; }
        .articulo-destacado { border-left: 4px solid #2C3E50; padding: 12px 18px; margin: 20px 0; background: #F8FAFC; border-radius: 0 8px 8px 0; font-size: 15px; font-weight: 600; color: #2C3E50; line-height: 1.5; font-style: italic; }
        /* ══════════════════════════════════════════════
           FIN estilos artículo
           ══════════════════════════════════════════════ */

        @media (max-width: 480px) {
            .header-section { padding: 0; min-height: 150px; }
            .content-section { padding: 16px; }
            body { overflow-x: hidden; max-width: 100vw; }
            .temperature { font-size: 64px; }
            .icon-large { font-size: 64px; }
            .radar-frame { height: 300px; }
            #weather-table th, #weather-table td { padding: 12px 6px; font-size: 12px; }
            #weather-table .table-icon { font-size: 26px; }
            .alert-banner-item { flex-direction: column; align-items: flex-start; gap: 10px; }
            .alert-banner-left { width: 100%; }
            .alert-banner-level { align-self: flex-start; }
            .details { gap: 16px; }
            .detail-item { min-width: 80px; }
            .articulo-titulo { font-size: 20px; }
        }
    </style>
</head>
<body>
    <div class="container">

        <div class="header-section"></div>

        <div class="content-section">

            <div class="current-weather">
                <div style="font-size: 13px; font-weight: 700; color: var(--color-text-secondary); margin-bottom: 16px; text-transform: uppercase; letter-spacing: 1px;">Tiempo Actual</div>
                <div class="icon-large" id="current-icon">☀️</div>
                <div class="temperature" id="current-temp">--°</div>
                <div class="details">
                    <div class="detail-item">
                        <div>Presión</div>
                        <div class="detail-value" id="pressure">-- hPa</div>
                    </div>
                    <div class="detail-item">
                        <div>Humedad</div>
                        <div class="detail-value" id="humidity">--%</div>
                    </div>
                    <div class="detail-item">
                        <div>Viento</div>
                        <div class="detail-value" id="wind">-- km/h</div>
                    </div>
                    <div class="detail-item">
                        <div>Precip. hoy</div>
                        <div class="detail-value" id="precip-today">-- mm</div>
                    </div>
                    <div class="detail-item">
                        <div>Calidad Aire</div>
                        <div class="detail-value" id="air-quality-current" style="color: #2C3E50;">--</div>
                    </div>
                    <div class="detail-item">
                        <div>UVI actual</div>
                        <div class="detail-value" id="uvi-current">--</div>
                    </div>
                </div>

                <!-- BLOQUE DE AVISOS -->
                <div class="aviso-box" style="width: 100%; background: #F8F8FF; border-radius: 12px; margin: 28px 0 0 0; padding: 20px 24px;">
                    <div style="color: #2C3E50; font-size: 14px; font-weight: 700; margin-bottom: 6px; letter-spacing: 0.3px;">SIN AVISOS ACTIVOS</div>
                    <div style="color: #2C3E50; font-size: 12px; font-weight: 500; line-height: 1.5;">No hay fenómenos adversos previstos</div>
                </div>

                <!-- ══════════════════════════════════════════════════════════
                     SECCIÓN ARTÍCULO METEOROLÓGICO
                     
                     Qué puedes editar:
                       1. foto-autor.jpg  → pon la ruta de tu foto de autor
                       2. NOMBRE APELLIDO → el nombre del autor
                       3. El <h2>         → el titular del artículo
                       4. img1.jpg        → tu primera imagen
                       5. Los párrafos <p>→ tu texto
                       6. img2.jpg        → tu segunda imagen (o borra ese bloque)
                       7. El .articulo-destacado → frase en cursiva (o bórralo)
                     
                     La fecha se actualiza sola con JavaScript.
                ════════════════════════════════════════════════════════════ -->
                <section class="articulo-meteorologico">

                    <!-- AUTOR Y FECHA -->
                    <div class="articulo-autor">
                        <!-- ✏️ Cambia foto-autor.jpg por el nombre de tu imagen -->
                        <img class="articulo-autor-foto" src="foto-autora.jpg" alt="Foto autor">
                        <div class="articulo-autor-info">
                            <!-- ✏️ Cambia el nombre aquí -->
                            <span class="articulo-autor-nombre">POR <strong>Dra. Isobaras</strong></span>
                            <span class="articulo-autor-fecha" id="articulo-fecha">ACTUALIZADO --</span>
                        </div>
                    </div>

                    <!-- ✏️ TITULAR — edita este texto -->
                    <h2 class="articulo-titulo">
                        Alerta por vientos mañana jueves
                    </h2>

                    <!-- ✏️ IMAGEN 1 — cambia img1.jpg por tu imagen -->
                    <div class="articulo-imagen-wrapper">
                        <img class="articulo-imagen-1" src="img1.jpg" alt="Descripción de la imagen">
                    </div>
                    <!-- ✏️ Pie de foto -->
                    <p class="articulo-imagen-pie">Descripción de la imagen. | <strong>Fuente</strong></p>

                    <!-- ✏️ TEXTO — edita, añade o quita párrafos <p> según necesites -->
                    <div class="articulo-cuerpo">

                        <p>
                            Escribe aquí el primer párrafo. Puedes explicar la situación
                            meteorológica actual o el contexto de la noticia.
                        </p>

                        <p>
                            Segundo párrafo con más detalles: zonas afectadas, causas
                            del fenómeno o previsiones para los próximos días.
                        </p>

                        <!-- FRASE DESTACADA — bórrala si no la necesitas -->
                        <div class="articulo-destacado">
                            "Escribe aquí una frase importante que quieras destacar."
                        </div>

                        <p>
                            Tercer párrafo. Avisos activos, recomendaciones para la
                            población o cualquier información adicional relevante.
                        </p>



                    </div>

                </section>
                <!-- ══════════════════════════════════════════════════════════
                     FIN SECCIÓN ARTÍCULO
                ════════════════════════════════════════════════════════════ -->

            </div><!-- fin current-weather -->

            <!-- TABLA DEL DÍA ACTUAL -->
            <div style="margin: 28px 0 0 0;">
                <table class="today-table">
                    <thead>
                        <tr><th colspan="2" id="today-header">HOY</th></tr>
                    </thead>
                    <tbody>
                        <!-- TEMPERATURA -->
                        <tr>
                            <td style="width: 50%; text-align: left; padding-left: 20px;"><div class="today-label">Temperatura mín / máx</div></td>
                            <td style="width: 50%; text-align: right; padding-right: 20px;">
                                <div class="today-value"><span class="temp-min" id="today-min">--°</span> / <span class="temp-max" id="today-max">--°</span></div>
                            </td>
                        </tr>
                        <!-- PRECIPITACIÓN MÁXIMA ESPERADA -->
                        <tr>
                            <td style="text-align: left; padding-left: 20px;"><div class="today-label">Precipitación máx. esperada</div></td>
                            <td style="text-align: right; padding-right: 20px;"><div class="today-value" id="today-precip-max">-- %</div></td>
                        </tr>
                        <!-- UVI MÁXIMO -->
                        <tr>
                            <td style="text-align: left; padding-left: 20px;"><div class="today-label">UVI máximo</div></td>
                            <td style="text-align: right; padding-right: 20px;"><div class="today-value" id="today-uvi-max">--</div></td>
                        </tr>
                        <!-- SOL -->
                        <tr>
                            <td style="text-align: left; padding-left: 20px;"><div class="today-label">Salida / Puesta de sol</div></td>
                            <td style="text-align: right; padding-right: 20px;">
                                <div class="today-value"><span id="today-sunrise">--:--</span> / <span id="today-sunset">--:--</span></div>
                            </td>
                        </tr>
                        <!-- HORAS DE LUZ -->
                        <tr>
                            <td style="text-align: left; padding-left: 20px;"><div class="today-label">Horas de luz</div></td>
                            <td style="text-align: right; padding-right: 20px;"><div class="today-value" id="today-daylight">-- h -- min</div></td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div><!-- fin content-section -->

        <div class="weather-table-container">
            <table id="weather-table">
                <thead>
                    <tr><th>Hora</th><th>Cielo</th><th>ºC</th><th>Lluvia</th><th>Viento</th></tr>
                </thead>
                <tbody id="weather-table-body">
                    <tr><td colspan="5" style="padding: 20px; text-align: center; color: var(--color-text-tertiary);">Cargando datos...</td></tr>
                </tbody>
            </table>
        </div>

        <div class="weather-table-container" style="margin-top: 60px;">
            <div id="days-detailed-container">
                <div style="padding: 20px; text-align: center; color: var(--color-text-tertiary);">Cargando datos...</div>
            </div>
            <div id="days-summary-container" style="margin-top: 28px;">
                <div style="padding: 20px; text-align: center; color: var(--color-text-tertiary);">Cargando datos...</div>
            </div>
        </div>

        <div class="webcam-container">
            <span class="webcam-label">WEBCAM / VILA OLÍMPICA</span>
            <div class="webcam-frame">
                <img id="webcam-jpg" src="https://imgproxy.windy.com/_/full/plain/current/1647901683/original.jpg" alt="vila olimpica"/>
            </div>
        </div>

        <div class="webcam-container">
            <span class="webcam-label">WEBCAM / SAGRADA FAMÍLIA</span>
            <div class="webcam-frame">
                <img src="https://imgproxy.windy.com/_/normal/plain/current/1448811166/original.jpg" alt="sagrada familia"/>
            </div>
        </div>

        <div class="radar" style="margin: 40px 0; animation: fadeIn 0.6s ease-out 1.2s both;">
            <div style="font-size: 20px; font-weight: 700; color: var(--color-text-primary); margin-bottom: 20px; text-align: center; text-transform: uppercase; letter-spacing: 1.5px;">RADAR DE PRECIPITACIÓN</div>
            <div class="radar-frame">
                <iframe src="https://www.rainviewer.com/map.html?loc=41.3851,2.1734,10&oFa=1&oC=1&oU=0&oCS=1&oF=1&oAP=1&rmt=4&c=3&o=83&lm=1&th=0&sm=1&sn=1" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>

        <div class="update-time" id="update-time">Actualizado: --:--</div>

        <div class="divulgacion-link">
            <a href="divulgacion.html">Aprende meteorología</a>
        </div>

    </div><!-- fin container -->

    <script>
        const LAT = 41.3851;
        const LON = 2.1734;

        // Fecha automática del artículo
        (function() {
            const meses = ['ENE','FEB','MAR','ABR','MAY','JUN','JUL','AGO','SEP','OCT','NOV','DIC'];
            const ahora = new Date();
            const dia = String(ahora.getDate()).padStart(2,'0');
            const mes = meses[ahora.getMonth()];
            const anyo = String(ahora.getFullYear()).slice(2);
            const hh = String(ahora.getHours()).padStart(2,'0');
            const mm = String(ahora.getMinutes()).padStart(2,'0');
            const el = document.getElementById('articulo-fecha');
            if (el) el.textContent = `ACTUALIZADO ${dia} ${mes} ${anyo} · ${hh}:${mm}`;
        })();

        const weatherIcons = {
            0:'<i class="wi wi-day-sunny"></i>',1:'<i class="wi wi-day-sunny-overcast"></i>',
            2:'<i class="wi wi-day-cloudy"></i>',3:'<i class="wi wi-cloudy"></i>',
            45:'<i class="wi wi-fog"></i>',48:'<i class="wi wi-fog"></i>',
            51:'<i class="wi wi-sprinkle"></i>',53:'<i class="wi wi-sprinkle"></i>',
            55:'<i class="wi wi-rain"></i>',61:'<i class="wi wi-rain"></i>',
            63:'<i class="wi wi-rain"></i>',65:'<i class="wi wi-rain-wind"></i>',
            71:'<i class="wi wi-snow"></i>',73:'<i class="wi wi-snow"></i>',
            75:'<i class="wi wi-snow-wind"></i>',80:'<i class="wi wi-showers"></i>',
            81:'<i class="wi wi-showers"></i>',82:'<i class="wi wi-storm-showers"></i>',
            95:'<i class="wi wi-thunderstorm"></i>',96:'<i class="wi wi-thunderstorm"></i>',
            99:'<i class="wi wi-thunderstorm"></i>'
        };
        const weatherIconsNight = {
            0:'<i class="wi wi-night-clear"></i>',1:'<i class="wi wi-night-alt-cloudy"></i>',
            2:'<i class="wi wi-night-alt-cloudy"></i>',3:'<i class="wi wi-cloudy"></i>',
            45:'<i class="wi wi-night-fog"></i>',48:'<i class="wi wi-night-fog"></i>',
            51:'<i class="wi wi-night-alt-sprinkle"></i>',53:'<i class="wi wi-night-alt-sprinkle"></i>',
            55:'<i class="wi wi-night-alt-rain"></i>',61:'<i class="wi wi-night-alt-rain"></i>',
            63:'<i class="wi wi-night-alt-rain"></i>',65:'<i class="wi wi-night-alt-rain-wind"></i>',
            71:'<i class="wi wi-night-alt-snow"></i>',73:'<i class="wi wi-night-alt-snow"></i>',
            75:'<i class="wi wi-night-alt-snow-wind"></i>',80:'<i class="wi wi-night-alt-showers"></i>',
            81:'<i class="wi wi-night-alt-showers"></i>',82:'<i class="wi wi-night-alt-storm-showers"></i>',
            95:'<i class="wi wi-night-alt-thunderstorm"></i>',96:'<i class="wi wi-night-alt-thunderstorm"></i>',
            99:'<i class="wi wi-night-alt-thunderstorm"></i>'
        };
        const weatherDescriptions = {
            0:'Despejado',1:'Principalmente despejado',2:'Parcialmente nublado',3:'Nublado',
            45:'Niebla',48:'Niebla con escarcha',51:'Llovizna ligera',53:'Llovizna moderada',
            55:'Llovizna densa',61:'Lluvia ligera',63:'Lluvia moderada',65:'Lluvia intensa',
            71:'Nevada ligera',73:'Nevada moderada',75:'Nevada intensa',
            80:'Chubascos ligeros',81:'Chubascos moderados',82:'Chubascos violentos',
            95:'Tormenta',96:'Tormenta con granizo',99:'Tormenta fuerte'
        };

        let sunriseTime = null, sunsetTime = null;

        function isNightTime(dt) {
            if (!sunriseTime || !sunsetTime) return false;
            const t = new Date(dt), sr = new Date(sunriseTime), ss = new Date(sunsetTime);
            sr.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());
            ss.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());
            return t < sr || t > ss;
        }

        function getWeatherIcon(code, dateTime, cloudData) {
            if (cloudData && (code===1||code===2||code===3)) {
                const rc = (cloudData.cloud_cover_low||0)+((cloudData.cloud_cover_mid||0)*0.5);
                if (rc<15) code=1; else if (rc<35) code=2; else code=3;
            }
            if (dateTime && isNightTime(dateTime)) return weatherIconsNight[code]||'<i class="wi wi-night-clear"></i>';
            return weatherIcons[code]||'<i class="wi wi-day-sunny"></i>';
        }

        function getDayName(ds) {
            return ['Domingo','Lunes','Martes','Miércoles','Jueves','Viernes','Sábado'][new Date(ds).getDay()];
        }

        function updateTodayTable(daily, hourly) {
            const now = new Date();
            document.getElementById('today-header').textContent = getDayName(now.toISOString()).toUpperCase();

            // Temp min / max
            if (daily.temperature_2m_min?.[0]!==undefined) document.getElementById('today-min').textContent = Math.round(daily.temperature_2m_min[0])+'°';
            if (daily.temperature_2m_max?.[0]!==undefined) document.getElementById('today-max').textContent = Math.round(daily.temperature_2m_max[0])+'°';

            // Precipitación máxima esperada (probabilidad máxima del día)
            let maxPrecipProb = 0;
            if (hourly?.time && hourly?.precipitation_probability) {
                for (let i=0; i<hourly.time.length; i++) {
                    const ht = new Date(hourly.time[i]);
                    if (ht.getDate()===now.getDate() && ht.getMonth()===now.getMonth() && ht.getFullYear()===now.getFullYear()) {
                        if ((hourly.precipitation_probability[i]||0) > maxPrecipProb) maxPrecipProb = hourly.precipitation_probability[i];
                    }
                }
            }
            document.getElementById('today-precip-max').textContent = maxPrecipProb + ' %';

            // UVI máximo
            if (daily.uv_index_max?.[0]!==undefined) {
                document.getElementById('today-uvi-max').textContent = Math.round(daily.uv_index_max[0]*10)/10;
            }

            // Salida / puesta de sol + horas de luz
            if (daily.sunrise?.[0] && daily.sunset?.[0]) {
                const sr = new Date(daily.sunrise[0]);
                const ss = new Date(daily.sunset[0]);
                document.getElementById('today-sunrise').textContent = sr.toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'});
                document.getElementById('today-sunset').textContent = ss.toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'});
                const totalMin = Math.round((ss - sr) / 60000);
                const hours = Math.floor(totalMin / 60);
                const mins = totalMin % 60;
                document.getElementById('today-daylight').textContent = `${hours} h ${mins} min`;
            }
        }

        function formatHour(s) { return new Date(s).getHours().toString().padStart(2,'0')+':00'; }

        function updateAirQualityTable(ac) {
            function lvl(aqi) {
                if(aqi<=20)return'Buena';if(aqi<=40)return'Aceptable';if(aqi<=60)return'Moderada';
                if(aqi<=80)return'Desfavorable';if(aqi<=100)return'Muy desfavorable';return'Extremadamente desfavorable';
            }
            const el=document.getElementById('air-quality-current');
            el.textContent=lvl(ac.european_aqi||0); el.style.color='#2C3E50';
        }

        async function loadWeatherData() {
            try {
                const url=`https://api.open-meteo.com/v1/forecast?latitude=${LAT}&longitude=${LON}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m,precipitation,pressure_msl,cloud_cover&hourly=temperature_2m,precipitation_probability,precipitation,weather_code,wind_speed_10m,wind_direction_10m,uv_index,cloud_cover,cloud_cover_low,cloud_cover_mid,cloud_cover_high&daily=weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset,uv_index_max&timezone=Europe/Madrid&forecast_days=7`;
                const aqUrl=`https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${LAT}&longitude=${LON}&current=european_aqi,pm10,pm2_5,carbon_monoxide,nitrogen_dioxide,sulphur_dioxide,ozone,alder_pollen,birch_pollen,grass_pollen,mugwort_pollen,olive_pollen,ragweed_pollen&timezone=Europe/Madrid`;
                const [res, aqRes] = await Promise.all([fetch(url), fetch(aqUrl)]);
                const data = await res.json();
                const aqData = await aqRes.json();
                if (data.daily?.sunrise && data.daily?.sunset) { sunriseTime=data.daily.sunrise[0]; sunsetTime=data.daily.sunset[0]; }
                const now=new Date(); let precipToday=0;
                if (data.hourly?.precipitation && data.hourly?.time) {
                    for(let i=0;i<data.hourly.time.length;i++){
                        const ht=new Date(data.hourly.time[i]);
                        if(ht.getDate()===now.getDate()&&ht.getMonth()===now.getMonth()&&ht<=now) precipToday+=data.hourly.precipitation[i]||0;
                    }
                }
                updateCurrentWeather(data.current, data.current.weather_code, precipToday, data.hourly);
                updateTodayTable(data.daily, data.hourly);
                updateAirQualityTable(aqData.current);
                updateWeatherTable(data.hourly);
                updateDaysTable(data.hourly, data.daily);
                updateDaysSummary(data.hourly, data.daily);
                updateTime();
            } catch(e) { console.error('Error al cargar datos:',e); }
        }

        function updateCurrentWeather(current, weatherCode, precipToday, hourly) {
            const now=new Date();
            document.getElementById('current-temp').textContent=Math.round(current.temperature_2m)+'°';
            document.getElementById('current-icon').innerHTML=getWeatherIcon(weatherCode,now,{cloud_cover:current.cloud_cover});
            document.getElementById('pressure').textContent=Math.round(current.pressure_msl)+' hPa';
            document.getElementById('humidity').textContent=current.relative_humidity_2m+'%';
            document.getElementById('wind').textContent=Math.round(current.wind_speed_10m)+' km/h';
            document.getElementById('precip-today').textContent=(precipToday||0).toFixed(1)+' mm';
            if (hourly?.time && hourly?.uv_index) {
                const idx=hourly.time.findIndex(t=>Math.abs(new Date(t)-now)<30*60*1000);
                if (idx!==-1&&hourly.uv_index[idx]!==undefined) {
                    const el=document.getElementById('uvi-current');
                    el.textContent=hourly.uv_index[idx].toFixed(1); el.style.color='#2C3E50';
                }
            }
        }

        function updateWeatherTable(hourly) {
            const tbody=document.getElementById('weather-table-body'); tbody.innerHTML='';
            const now=new Date();
            for(let i=1;i<=11;i++){
                const target=new Date(now.getTime()+i*2*3600000);
                const idx=hourly.time.findIndex(t=>Math.abs(new Date(t)-target)<3600000);
                if(idx===-1) continue;
                const ht=new Date(hourly.time[idx]);
                const cd={cloud_cover:hourly.cloud_cover?.[idx],cloud_cover_low:hourly.cloud_cover_low?.[idx],cloud_cover_mid:hourly.cloud_cover_mid?.[idx]};
                const row=document.createElement('tr');
                row.innerHTML=`<td class="table-hour">${formatHour(hourly.time[idx])}</td><td class="table-icon">${getWeatherIcon(hourly.weather_code[idx],ht,cd)}</td><td class="table-temp">${Math.round(hourly.temperature_2m[idx])}°C</td><td class="table-rain">${hourly.precipitation_probability?.[idx]||0}%</td><td class="table-wind">${Math.round(hourly.wind_speed_10m[idx])} km/h</td>`;
                tbody.appendChild(row);
            }
        }

        function getWindDir(deg) { return['N','NE','E','SE','S','SO','O','NO'][Math.round(deg/45)%8]; }

        function updateDaysTable(hourly, daily) {
            const container=document.getElementById('days-detailed-container'); container.innerHTML='';
            const now=new Date();
            for(let off=1;off<=3;off++){
                const tDay=new Date(now); tDay.setDate(tDay.getDate()+off); tDay.setHours(0,0,0,0);
                const dn=getDayName(tDay.toISOString());
                let h={8:-1,12:-1,16:-1,20:-1};
                for(let i=0;i<hourly.time.length;i++){
                    const ht=new Date(hourly.time[i]);
                    if(ht.getDate()===tDay.getDate()&&ht.getMonth()===tDay.getMonth()){
                        const hr=ht.getHours();
                        if(hr===8&&h[8]===-1)h[8]=i; if(hr===12&&h[12]===-1)h[12]=i;
                        if(hr===16&&h[16]===-1)h[16]=i; if(hr===20&&h[20]===-1)h[20]=i;
                    }
                }
                function cd(idx){return idx!==-1?{cloud_cover:hourly.cloud_cover?.[idx],cloud_cover_low:hourly.cloud_cover_low?.[idx],cloud_cover_mid:hourly.cloud_cover_mid?.[idx]}:null;}
                const hrs=[8,12,16,20];
                const icons=hrs.map(hr=>h[hr]!==-1?getWeatherIcon(hourly.weather_code[h[hr]],new Date(hourly.time[h[hr]]),cd(h[hr])):'—');
                const temps=hrs.map(hr=>h[hr]!==-1?Math.round(hourly.temperature_2m[h[hr]]):'--');
                const rains=hrs.map(hr=>h[hr]!==-1?(hourly.precipitation_probability?.[h[hr]]||0):0);
                const winds=hrs.map(hr=>h[hr]!==-1?Math.round(hourly.wind_speed_10m[h[hr]]):'--');
                const wdirs=hrs.map(hr=>h[hr]!==-1&&hourly.wind_direction_10m?getWindDir(hourly.wind_direction_10m[h[hr]]):'--');
                const minT=Math.round(daily.temperature_2m_min[off]), maxT=Math.round(daily.temperature_2m_max[off]);
                let tp=0;
                for(let i=0;i<hourly.time.length;i++){const ht=new Date(hourly.time[i]);if(ht.getDate()===tDay.getDate()&&ht.getMonth()===tDay.getMonth())tp+=hourly.precipitation[i]||0;}
                tp=Math.round(tp*10)/10;
                const sr=daily.sunrise?.[off]?new Date(daily.sunrise[off]).toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'}):'--:--';
                const ss=daily.sunset?.[off]?new Date(daily.sunset[off]).toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'}):'--:--';
                const uv=daily.uv_index_max?.[off]!==undefined?Math.round(daily.uv_index_max[off]*10)/10:0;
                const t=document.createElement('table'); t.className='day-detailed-table';
                const labels=['08:00','12:00','16:00','20:00'];
                t.innerHTML=`<thead><tr style="background:#2C3E50;"><th colspan="4" style="color:#FFFFFF;">${dn}</th></tr></thead><tbody>
                <tr>${[0,1,2,3].map(j=>`<td style="width:25%;"><div class="time-label">${labels[j]}</div><div class="weather-icon-large">${icons[j]}</div></td>`).join('')}</tr>
                <tr>${[0,1,2,3].map(j=>`<td><div style="font-size:16px;font-weight:700;color:#2C3E50;">${temps[j]}°C</div></td>`).join('')}</tr>
                <tr><td colspan="2"><div class="rain-value temp-min">${minT}°C</div></td><td colspan="2"><div class="rain-value temp-max">${maxT}°C</div></td></tr>
                <tr style="background:rgba(44,62,80,0.08);">${[0,1,2,3].map(j=>`<td style="border:none;"><div style="font-size:14px;font-weight:600;color:#2C3E50;">${rains[j]}%</div></td>`).join('')}</tr>
                <tr style="background:rgba(44,62,80,0.08);"><td colspan="4" style="padding:10px;font-size:13px;color:#2C3E50;font-weight:600;border:none;">Precipitación total: <span>${tp} mm</span></td></tr>
                <tr>${[0,1,2,3].map(j=>`<td><div style="font-size:13px;font-weight:600;color:#2C3E50;">${winds[j]} km/h</div><div style="font-size:11px;color:#2C3E50;margin-top:2px;">${wdirs[j]}</div></td>`).join('')}</tr>
                <tr><td colspan="4" style="padding:10px;font-size:12px;color:#2C3E50;"><i class="wi wi-sunrise"></i> ${sr} <span style="margin:0 15px;">|</span><i class="wi wi-sunset"></i> ${ss}<span style="margin:0 15px;">|</span> UVI: <strong>${uv}</strong></td></tr>
                </tbody>`;
                container.appendChild(t);
            }
        }

        function updateDaysSummary(hourly, daily) {
            const container=document.getElementById('days-summary-container'); container.innerHTML='';
            const now=new Date();
            const tbl=document.createElement('table'); tbl.className='day-detailed-table'; tbl.style.marginTop='0';
            let html='<tbody>';
            for(let off=4;off<=6;off++){
                if(!daily.temperature_2m_min?.[off]===undefined||!daily.temperature_2m_max?.[off]===undefined) continue;
                if(daily.temperature_2m_min[off]===undefined||daily.temperature_2m_max[off]===undefined) continue;
                const tDay=new Date(now); tDay.setDate(tDay.getDate()+off); tDay.setHours(0,0,0,0);
                const dn=getDayName(tDay.toISOString());
                let h12=-1;
                for(let i=0;i<hourly.time.length;i++){const ht=new Date(hourly.time[i]);if(ht.getDate()===tDay.getDate()&&ht.getMonth()===tDay.getMonth()&&ht.getHours()===12){h12=i;break;}}
                const mc=h12!==-1?hourly.weather_code[h12]:(daily.weather_code?.[off]||0);
                const cd=h12!==-1?{cloud_cover:hourly.cloud_cover?.[h12],cloud_cover_low:hourly.cloud_cover_low?.[h12],cloud_cover_mid:hourly.cloud_cover_mid?.[h12]}:null;
                const icon=getWeatherIcon(mc,h12!==-1?new Date(hourly.time[h12]):tDay,cd);
                const minT=Math.round(daily.temperature_2m_min[off]),maxT=Math.round(daily.temperature_2m_max[off]);
                let mrp=0,tp=0,ws=[],wd=[];
                for(let i=0;i<hourly.time.length;i++){
                    const ht=new Date(hourly.time[i]);
                    if(ht.getDate()===tDay.getDate()&&ht.getMonth()===tDay.getMonth()){
                        if(hourly.precipitation_probability?.[i]>mrp)mrp=hourly.precipitation_probability[i];
                        tp+=hourly.precipitation[i]||0;
                        if(hourly.wind_speed_10m)ws.push(hourly.wind_speed_10m[i]);
                        if(hourly.wind_direction_10m)wd.push(hourly.wind_direction_10m[i]);
                    }
                }
                tp=Math.round(tp*10)/10;
                const aw=ws.length>0?Math.round(ws.reduce((a,b)=>a+b,0)/ws.length):0;
                const awd=wd.length>0?Math.round(wd.reduce((a,b)=>a+b,0)/wd.length):0;
                html+=`<tr>
                <td style="width:25%;padding:15px 10px;border-bottom:1px solid #e9ecef;"><div style="font-size:14px;font-weight:700;color:#2C3E50;margin-bottom:8px;">${dn}</div><div style="font-size:32px;margin:5px 0;">${icon}</div></td>
                <td style="width:25%;padding:15px 10px;text-align:center;border-bottom:1px solid #e9ecef;"><div style="font-size:11px;color:#64748B;margin-bottom:4px;">Mín / Máx</div><div style="font-size:15px;font-weight:700;"><span style="color:#3B82F6;">${minT}°</span> <span style="color:#EF4444;">${maxT}°</span></div></td>
                <td style="width:25%;padding:15px 10px;text-align:center;border-bottom:1px solid #e9ecef;"><div style="font-size:11px;color:#64748B;margin-bottom:4px;">Lluvia</div><div style="font-size:14px;font-weight:600;color:#2C3E50;">${mrp}%</div><div style="font-size:11px;color:#64748B;margin-top:2px;">${tp} mm</div></td>
                <td style="width:25%;padding:15px 10px;text-align:center;border-bottom:1px solid #e9ecef;"><div style="font-size:11px;color:#64748B;margin-bottom:4px;">Viento</div><div style="font-size:14px;font-weight:600;color:#2C3E50;">${aw} km/h</div><div style="font-size:11px;color:#64748B;margin-top:2px;">${getWindDir(awd)}</div></td>
                </tr>`;
            }
            html+='</tbody>'; tbl.innerHTML=html; container.appendChild(tbl);
        }

        function updateTime() {
            const now=new Date();
            document.getElementById('update-time').textContent='Actualizado: '+String(now.getHours()).padStart(2,'0')+':'+String(now.getMinutes()).padStart(2,'0');
        }

        loadWeatherData();
        setInterval(loadWeatherData, 600000);
    </script>
</body>
</html>
